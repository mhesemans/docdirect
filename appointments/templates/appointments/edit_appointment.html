<!--
Allows administrative staff to edit an existing appointment.

**Context**
- form: Bound instance of :form:`appointments.AppointmentEditForm`
- appointment: The specific :model:`appointments.Appointment` being edited

**Template**
- appointments/edit_appointment.html
-->

{% extends "base.html" %}
{% block content %}
<div class="container py-5">
  <h2 class="mb-4">Edit Appointment</h2>

  <form method="post">
    {% csrf_token %}

    <div class="mb-3">
      <label class="form-label">Patient</label>
      <input
        type="text"
        class="form-control"
        value="{{ appointment.patient.get_full_name }}"
        disabled
      />
    </div>

    <div class="mb-3">
      {{ form.gp.label_tag }}
      {{ form.gp }}
    </div>

    <div class="mb-3">
      {{ form.date.label_tag }}
      {{ form.date }}
    </div>

    <div class="mb-3">
      {{ form.time.label_tag }}
      {{ form.time }}
    </div>

    <div class="mb-3">
      {{ form.reason_for_visit.label_tag }}
      {{ form.reason_for_visit }}
    </div>

    <div class="mb-3">
      {{ form.notes.label_tag }}
      {{ form.notes }}
    </div>

    <div class="mb-3">
      {{ form.preferred_contact.label_tag }}
      {{ form.preferred_contact }}
    </div>

    <div class="form-check mb-3">
      {{ form.is_completed }}
      {{ form.is_completed.label_tag }}
    </div>

    <button type="submit" class="btn btn-primary">Update Appointment</button>
    <a href="{% url 'appointments:manage_appointments' %}" class="btn btn-secondary ms-2">Cancel</a>
  </form>
</div>
{% endblock %}
